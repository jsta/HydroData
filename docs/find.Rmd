---
pagetitle: HydroData for R
---

```{r echo = FALSE, results='hide', warning=FALSE,message=FALSE}
devtools::load_all()
library(kableExtra)
col  = '#1fb28a'
col1 = '#212f3f'
```

## Finding Stations 

Finding data for an Area of Interest (AOI) often requires finding what observation stations are avialable. The `Hydrodata` **find** functions can locate stations from six major networks as listed below.

```{r echo = F, message = F}
text_tbl <- data.frame(
`Stations` = c("Airport Weather Stations", "Global Historic Climatology Network", "National Water Information System","National Inventory of Dams", "Snow Telemetry", "Reservoirs"),
 Source = c("Open Flights", "NOAA", "USGS", "USACE", "NRCS", "USGS"),
 Function = c("findAirports( )", "findGHCN( )", "findUSGS( )", "findNID( )", "findSnotel( )", "findReservoir( )" )
) 

rownames(text_tbl) = paste0(c(1:6), ".")

text_tbl$Function <- cell_spec(text_tbl$Function, background ="lightgray", color = col1)


kable(text_tbl, escape = F, format = "html") %>%
   kable_styling(bootstrap_options = c("striped", "hover", "responsive"))

```

If you have not yet learned how AOI queries are defined in `HydroData` I sugest reviewing the [AOI page](aoi.html) first. 

What follows are basic examples for quering information from these 6 sources for a region centered on the University of California, Santa Barbara (UCSB).

### Finding Airports

Airports offer a network of daily meterological observation stations which are accessable via WeatherUnderground. [Open flights](https://openflights.org/data.html) has global metadata for 7,184 airports, the majority of which report information to WeatherUnderground. 

Here's a basic example for subseting the Open for all airports in El Paso County, Colorado:

```{r, message = F}
ap = findAirports(clip_unit = list("UCSB", 10, 10), ids = TRUE)
explore(ap)
```

Interacting with this map can show where/if airports exist within an AOI. By clicking on each icon you can see the name, city, and four digit ICAO identifier associated with each airport. Further, each nameis hyperlinked to the  WeatherUnderground webpage assocaited with airport.

To get data from these airport stations you can use the `getWU()` function which is covered in greater detail in the [Get Observation Data](get_tab.html) page. 

```{r}
ap$ids
```

### Finding Global Historic Climatology Network

The [GHCN (Global Historical Climatology Network)](https://www.ncdc.noaa.gov/data-access/land-based-station-data/land-based-datasets/global-historical-climatology-network-ghcn) is an integrated database of daily climate summaries from land surface stations across the globe. `HydroData` offers access to data for 105,394 stations, offering over 137 unique measurments, with some reporting back to 1836!

Here's a basic example for find GHCN stations near UCSB.

```{r, message = F}
findGHCN(clip_unit = list("UCSB", 10, 10)) %>% explore()
```

You can also filter GHCH queries by parameter.

```{r, echo = TRUE, message = F}
findGHCN(clip_unit = list("UCSB", 10, 10),  param = "PRCP") %>% explore()
```

### National Water Information System (USGS)

The U.S. Geological Survey's (USGS) National Water Information System (NWIS) is a comprehensive and distributed application that supports the acquisition, processing, and long-term storage of water data.

```{r, message = F}
findUSGS(clip_unit = list("UCSB", 10, 10)) %>% explore()
```


### National Inventory of Dams (USACE)

```{r, message = F}
findNID(clip_unit = list("UCSB", 10, 10)) %>% explore()
```

### Snow Telemetry (SNRCS)

```{r, message = F}
findSnotel(state = "CA", county = "Modoc") %>% explore()
```

### Reservoirs (USGS)

```{r, message = F}
findReservoir(clip_unit = list("UCSB", 30, 30)) %>% explore()
```
### Next Steps

While this section empahsizes finding key stations within an AOI, and getting there unique identifiation code via `ids = TRUE` the [Getting Observation Data](get_tab.html) page focusing on using these ids to query timeseries, observation data. 


